# Enable Enhanced Clustering
# Set to 'true' to enable all 10 clustering enhancements
# Set to 'false' or leave unset to use original clustering
USE_ENHANCED_CLUSTERING=true
# Backward-compatible alias used by some modules
ENHANCED_CLUSTERING_ENABLED=true

# Vector store endpoint (required for enhanced clustering)
CHROMA_HOST=127.0.0.1
CHROMA_PORT=8001

# Enhancement Toggles
# Individual enhancement switches (only applicable when USE_ENHANCED_CLUSTERING=true)
ENABLE_ENTITY_EXTRACTION=true
ENABLE_ANOMALY_DETECTION=true
ENABLE_HEAT_PREDICTION=true
ENABLE_CROSS_CATEGORY_LINKING=true
ENABLE_USER_PERSONALIZATION=true

# Performance Tuning
# CLUSTER_BATCH_SIZE: Number of articles to process in parallel during clustering
# HEAT_HISTORY_WINDOW_HOURS: Hours of heat history to keep for predictions
# PREDICTION_CONFIDENCE_THRESHOLD: Minimum confidence for heat predictions (0.0-1.0)
# ANOMALY_Z_SCORE_THRESHOLD: Z-score threshold for anomaly detection
CLUSTER_BATCH_SIZE=20
HEAT_HISTORY_WINDOW_HOURS=48
PREDICTION_CONFIDENCE_THRESHOLD=0.3
ANOMALY_Z_SCORE_THRESHOLD=3.0

# Additional Enhanced Clustering Settings
# NEWS_VECTOR_DISTANCE_THRESHOLD: Similarity threshold for vector-based clustering (0.0-1.0)
# CLUSTER_MERGE_SIMILARITY_THRESHOLD: Threshold for merging similar clusters (0.0-1.0)
# NEWS_VECTOR_FILTER_BY_CATEGORY: Filter vector search by category (true/false)
NEWS_VECTOR_DISTANCE_THRESHOLD=0.70
CLUSTER_MERGE_SIMILARITY_THRESHOLD=0.85
NEWS_VECTOR_FILTER_BY_CATEGORY=true

# LLM Heatmap + Clustering
OPENROUTER_LABELING_MODEL=z-ai/glm-4.7-flash
NEWS_HEATMAP_MAX_ARTICLES=1200
NEWS_HEATMAP_MAX_LLM_ARTICLES=450
NEWS_HEATMAP_CACHE_MS=15000

# Trading Universe/Data Quality Controls
TRADING_MIN_ANALYSIS_CANDLES=50
TRADING_MARKET_DATA_MAX_AGE_MS=300000
TRADING_MARKET_DATA_CHECK_TTL_MS=120000
TRADING_MAX_ACTIVE_SYMBOLS=30
TRADING_API_READINESS_CHECK_LIMIT=25
TRADING_SYMBOL_DATA_FAILURES_BEFORE_COOLDOWN=3
TRADING_SYMBOL_DATA_COOLDOWN_MS=21600000
TRADING_STARTUP_SYMBOL_PRUNE=true
TRADING_EXCLUDED_SYMBOLS=
