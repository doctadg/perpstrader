# PerpsTrader Environment Configuration
# Copy this file to .env and fill in your API keys

# ============================================
# REQUIRED: GLM API (for AI analysis)
# ============================================
GLM_API_KEY=your_glm_api_key_here
GLM_BASE_URL=https://api.glm.ai/v1
GLM_MODEL=glm-4

# ============================================
# REQUIRED: Hyperliquid (for perp trading)
# ============================================
HYPERLIQUID_PRIVATE_KEY=your_hyperliquid_private_key_here
HYPERLIQUID_TESTNET=false
HYPERLIQUID_BASE_URL=https://api.hyperliquid.xyz

# ============================================
# OPTIONAL: Safekeeping Fund Wallets (EVM + Solana)
# If keys are missing, wallets can be auto-created locally.
# ============================================
ETH_PRIVATE_KEY=
ETH_RPC_URL=https://eth.llamarpc.com
BSC_PRIVATE_KEY=
BSC_RPC_URL=https://bsc-dataseed.binance.org
# SOLANA_SECRET_KEY supports JSON byte array or base64-encoded secret key
SOLANA_SECRET_KEY=
SAFEKEEPING_WALLET_STORE_PATH=config/openclaw/wallets.json
SAFEKEEPING_AUTO_CREATE_WALLETS=true

# ============================================
# OPTIONAL: OpenRouter (for embeddings/classification)
# ============================================
OPENROUTER_API_KEY=your_openrouter_key_here
OPENROUTER_BASE_URL=https://openrouter.ai/api/v1
OPENROUTER_LABELING_MODEL=z-ai/glm-4.7-flash
OPENROUTER_EMBEDDING_MODEL=text-embedding-3-small

# ============================================
# OPTIONAL: Search API (for news ingestion)
# ============================================
SEARCH_API_URL=http://localhost:8000/api/v1

# ============================================
# OPTIONAL: ChromaDB (for vector memory + clustering)
# ============================================
CHROMA_HOST=127.0.0.1
CHROMA_PORT=8001
# Alternate format (if preferred):
# CHROMA_URL=http://127.0.0.1:8001

# ============================================
# OPTIONAL: Redis (for message bus)
# ============================================
REDIS_URL=redis://localhost:6380

# ============================================
# OPTIONAL: Solana (for pump.fun integration)
# ============================================
SOLANA_RPC_URL=https://api.mainnet-beta.solana.com
SOLANA_WS_URL=wss://api.mainnet-beta.solana.com
SOLANA_COMMITMENT=confirmed

# ============================================
# OPTIONAL: pump.fun analyzer tuning
# ============================================
PUMPFUN_CYCLE_INTERVAL_MS=60000
PUMPFUN_MIN_SCORE_THRESHOLD=0.7
PUMPFUN_WEIGHT_WEBSITE=0.7
PUMPFUN_WEIGHT_GLM=0.3
# Defaults to arcee-ai/trinity-large-preview:free if unset
# PUMPFUN_OPENROUTER_MODEL=arcee-ai/trinity-large-preview:free
# Keep disabled in production
PUMPFUN_ALLOW_SAMPLE_TOKENS=false

# ============================================
# APP CONFIGURATION
# ============================================
NODE_ENV=production
LOG_LEVEL=info
DASHBOARD_PORT=3001

# ============================================
# OPTIONAL: Trading Universe/Data Quality Controls
# ============================================
# Minimum candles required before a symbol can be analyzed
TRADING_MIN_ANALYSIS_CANDLES=50
# Max age (ms) of latest candle for a symbol to be considered tradable
TRADING_MARKET_DATA_MAX_AGE_MS=300000
# Cache TTL (ms) for symbol data readiness checks
TRADING_MARKET_DATA_CHECK_TTL_MS=120000
# Cap active symbol universe size
TRADING_MAX_ACTIVE_SYMBOLS=30
# How many symbols can use API fallback readiness checks per cycle
TRADING_API_READINESS_CHECK_LIMIT=25
# Failures before a symbol is cooled down/pruned
TRADING_SYMBOL_DATA_FAILURES_BEFORE_COOLDOWN=3
# Cooldown duration (ms) after repeated data failures
TRADING_SYMBOL_DATA_COOLDOWN_MS=21600000
# Enable one-time startup pruning of low-data symbols
TRADING_STARTUP_SYMBOL_PRUNE=true
# Optional manual blacklist (comma-separated)
# Example: TRADING_EXCLUDED_SYMBOLS=REZ,DYM,XAI,SUPER,MEME,POLYX
TRADING_EXCLUDED_SYMBOLS=

# LLM heatmap tuning
NEWS_HEATMAP_MAX_ARTICLES=1200
NEWS_HEATMAP_MAX_LLM_ARTICLES=450
NEWS_HEATMAP_CACHE_MS=15000
